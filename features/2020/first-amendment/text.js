/* built */!function(){"use strict";window.addEventListener("load",(function(){e.t="Congress shall make no law respecting an establishment of <span>religion</span>, or prohibiting the free exercise thereof; or abridging the freedom of <span>speech</span> or of <span>the press</span>; or the right of the people peaceably to <span>assemble</span>, and to <span>petition</span> the Government for a redress of grievances.",e.el=document.getElementById("amendment-text-bg"),e.story={el:document.querySelector(".story")},e.headline={el:document.getElementById("headline")},e.status=!1,e.amendment={el:document.getElementById("amendment"),heights:[]},e.amendment.spans=e.amendment.el.querySelectorAll("span");let a="";for(let t=0;t<50;t++)a+=e.t+" &mdash; ";e.el.innerHTML=a,e.spans=e.el.querySelectorAll("span"),e.l=e.spans.length,window.addEventListener("scroll",(function(){n(),requestAnimationFrame(s)}),!1),window.addEventListener("resize",t,!1),t(),l()}),!1);const e={};function t(){n();let t=-.15*e.vh;for(let n=0;n<e.amendment.spans.length;n++){let s=.5*e.amendment.spans[n].offsetHeight+50;s+=t,e.amendment.heights.push(s),t=s}const l=Math.min(1,e.vw*e.vh/2073600);e.threshold=Math.round(e.l*l),requestAnimationFrame(s)}function n(){e.scrollTop=window.pageYOffset||document.documentElement.scrollTop,e.vh=window.innerHeight,e.vw=window.innerWidth,e.story.p=e.story.el.getBoundingClientRect().top+e.scrollTop,e.headline.p=e.headline.el.getBoundingClientRect().top+e.scrollTop}function s(){e.scrollTop>e.story.p?(clearTimeout(e.timer),e.status=!1):!1===e.status&&l(),e.scrollTop+.2*e.vh>e.headline.p?(e.el.classList.add("emphasis"),e.headline.el.classList.add("reveal")):(e.el.classList.remove("emphasis"),e.headline.el.classList.remove("reveal")),0<=e.scrollTop&&e.amendment.el.setAttribute("data-level","1"),e.amendment.heights[0]<e.scrollTop&&e.amendment.el.setAttribute("data-level","2"),e.amendment.heights[1]<e.scrollTop&&e.amendment.el.setAttribute("data-level","3"),e.amendment.heights[2]<e.scrollTop&&e.amendment.el.setAttribute("data-level","4"),e.amendment.heights[3]<e.scrollTop&&e.amendment.el.setAttribute("data-level","5"),e.amendment.heights[4]<e.scrollTop&&e.amendment.el.setAttribute("data-level","6")}function l(){const t=Math.floor(1001*Math.random()+200),n=Math.floor(Math.random()*e.threshold);e.status=!0,e.spans[n].classList.add("active"),setTimeout((function(){e.spans[n].classList.remove("active")}),1e3),e.timer=setTimeout(l,t)}}();