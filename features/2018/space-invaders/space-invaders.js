/* built */!function(){"use strict";var l;function e(){l.startscreen.classList.add("hidden"),l.status=1,m(),l.starttimer=setInterval(n,3e3)}function t(){window.clearInterval(l.endtimer),l.container.el.innerHTML="",l.container.el.classList.remove("endgame"),l.endscreen.classList.remove("visible"),l.score.spawned=0,l.score.removed=0,e()}function m(){var e,t;1==l.status&&(e=l.score.spawned-l.score.removed,l.score.board.spawned.innerHTML=l.score.spawned,l.score.board.removed.innerHTML=l.score.removed,l.score.board.remaining.innerHTML=e,l.progress.style.width=100/l.pointcap*e+"%",l.pointcap==e&&(window.clearInterval(l.starttimer),l.status=2,l.container.el.classList.add("endgame"),l.endscreen.classList.add("visible"),t=0,l.endtimer=window.setInterval(function(){n(),500==++t&&window.clearInterval(l.endtimer)},50)))}function u(){var e,t,n,r={};switch(t=Math.floor(1e3*Math.random()),n=Math.floor(3*Math.random()+1),t<350?r.type="tunicate-1":t<700?r.type="tunicate-2":t<900?r.type="seaweed-1":t<1e3&&(r.type="crab"),n){case 1:e="slow";break;case 2:e="fast";break;default:e=""}return r.div=document.createElement("div"),r.div.className="creature "+r.type+" "+e,r}function n(){var e,t,n,r,a,o,d,c,i,s;e=u(),c=e.type,i=l.container.el.querySelectorAll("."+c),s=Math.floor(Math.random()*i.length),t=0<i.length?i[s].parentNode.getAttribute("id"):null,d="c_"+Math.random().toString(36).substr(2,9),Math.floor(1e3*Math.random())<700&&null!=t&&"crab"!=e.type?(r=Math.min(l.container.x,Math.max(l.creatures[t].x+l.unit*Math.floor(17*Math.random()-8))),a=Math.min(l.container.y,Math.max(256,l.creatures[t].y+l.unit*Math.floor(17*Math.random()-8)))):(r=l.unit*Math.floor(Math.random()*(l.container.x/l.unit)),a=Math.max(256,l.unit*Math.floor(Math.random()*(l.container.y/l.unit)))),o=Math.floor(10*Math.random()+1),(n=document.createElement("div")).id=d,n.className="creature-wrapper",n.style="top:"+a+"px; left:"+r+"px; z-index:"+o,n.appendChild(e.div),1==l.status&&n.addEventListener("click",function(e){var t;(t=document.getElementById(e)).parentNode.removeChild(t),delete l.creatures[e],l.score.removed++,m()}.bind(null,d),!1),l.creatures[d]={x:r,y:a},l.container.el.appendChild(n),l.score.spawned++,m()}function o(){window.pageYOffset>l.score.board.top?l.score.board.el.classList.add("fixed"):l.score.board.el.classList.remove("fixed")}function d(){l.container.x=l.container.el.offsetWidth,l.container.y=l.container.el.offsetHeight}window.addEventListener("load",function(){(l={unit:16,status:0,pointcap:20,creatures:{},container:{},score:{spawned:0,removed:0}}).habitat=document.getElementById("creature-box").querySelector(".creatures"),l.startscreen=document.getElementById("startscreen"),l.container.el=document.getElementById("creature-container"),l.container.x=l.container.el.offsetWidth,l.container.y=l.container.el.offsetHeight,l.score.board={el:document.getElementById("scoreboard"),spawned:document.getElementById("spawned").querySelector(".score"),removed:document.getElementById("removed").querySelector(".score"),remaining:document.getElementById("remaining").querySelector(".score")},l.score.board.top=l.score.board.el.getBoundingClientRect().top,r=0,a=window.setInterval(function(){var e,t,n;e=u(),t=l.unit*Math.floor(48*Math.random()+1),n=Math.floor(10*Math.random()+1),e.div.style="left:"+t+"px; z-index:"+n,l.habitat.appendChild(e.div),15==++r&&window.clearInterval(a)},50),l.play=document.getElementById("play-game"),l.play.addEventListener("click",e,!1),l.reset=document.getElementById("reset-game"),l.reset.addEventListener("click",t,!1),l.progress=document.getElementById("progress-bar"),l.endscreen=document.getElementById("endscreen"),window.addEventListener("scroll",o,!1),window.addEventListener("resize",d,!1);var r,a},!1)}();