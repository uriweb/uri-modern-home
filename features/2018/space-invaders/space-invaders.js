/* built */!function(){"use strict";var l;function e(){var e,t,r,o,n;e=a,t=50,r=15,o=0,n=window.setInterval(function(){e(),++o===r&&window.clearInterval(n)},t)}function t(){l.creatureBox.el.innerHTML="",e()}function u(){l.scoring.scoreboard.spawned.innerHTML=l.scoring.spawned,l.scoring.scoreboard.removed.innerHTML=l.scoring.removed,l.scoring.scoreboard.remaining.innerHTML=l.scoring.spawned-l.scoring.removed}function m(){var e,t,r,o={};switch(t=Math.floor(1e3*Math.random()),r=Math.floor(3*Math.random()+1),t<350?o.type="tunicate-1":t<700?o.type="tunicate-2":t<900?o.type="seaweed-1":t<1e3&&(o.type="crab"),r){case 1:e="slow";break;case 2:e="fast";break;default:e=""}return o.div=document.createElement("div"),o.div.className="creature "+o.type+" "+e,o}function a(){var e,t,r;e=m(),t=l.unit*Math.floor(48*Math.random()+1),r=Math.floor(10*Math.random()+1),e.div.style="left:"+t+"px; z-index:"+r,l.creatureBox.el.appendChild(e.div)}function r(){var e,t,r,o,n,a,d,c,i,s;e=m(),c=e.type,i=l.storyBox.el.querySelectorAll("."+c),s=Math.floor(Math.random()*i.length),t=0<i.length?i[s].parentNode.getAttribute("id"):null,d="c_"+Math.random().toString(36).substr(2,9),Math.floor(1e3*Math.random())<700&&null!=t&&"crab"!=e.type?(o=Math.min(l.storyBox.x,Math.max(0,l.creatures[t].x+l.unit*Math.floor(17*Math.random()-8))),n=Math.min(l.storyBox.y,Math.max(0,l.creatures[t].y+l.unit*Math.floor(17*Math.random()-8)))):(o=l.unit*Math.floor(Math.random()*(l.storyBox.x/l.unit)),n=l.unit*Math.floor(Math.random()*(l.storyBox.y/l.unit))),a=Math.floor(10*Math.random()+1),(r=document.createElement("div")).id=d,r.className="creature-wrapper",r.style="top:"+n+"px; left:"+o+"px; z-index:"+a,r.appendChild(e.div),r.addEventListener("click",function(e){var t;(t=document.getElementById(e)).parentNode.removeChild(t),delete l.creatures[e],l.scoring.removed++,u()}.bind(null,d),!1),l.creatures[d]={x:o,y:n},l.storyBox.el.appendChild(r),l.scoring.spawned++,u()}window.addEventListener("load",function(){(l={creatureBox:{},storyBox:{},creatures:{},scoring:{scoreboard:{},spawned:0,removed:0},unit:16}).creatureBox.el=document.getElementById("creature-box").querySelector(".creatures"),l.storyBox.el=document.getElementById("story"),l.storyBox.x=l.storyBox.el.offsetWidth,l.storyBox.y=l.storyBox.el.offsetHeight,l.clearButton=document.getElementById("clear-creatures"),l.clearButton.addEventListener("click",t,!1),l.scoring.scoreboard.spawned=document.getElementById("spawned").querySelector(".score"),l.scoring.scoreboard.removed=document.getElementById("removed").querySelector(".score"),l.scoring.scoreboard.remaining=document.getElementById("remaining").querySelector(".score"),e(),setInterval(r,3e3)},!1)}();