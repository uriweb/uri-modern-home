/* built */!function(){"use strict";function t(){let t;const e={ticks:document.getElementById("progress").querySelectorAll(".progress-label"),depths:[]};for(t=0;t<e.ticks.length;t++)e.depths.push(e.ticks[t].getAttribute("data-depth"));return e}function e(t){let e;const s=t.scale.ticks.length;t.scale.waterline=t.sky.offsetHeight/t.storyHeight*100;for(t.bar.style.marginLeft="calc( -50vw + ("+function(){const t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);const e=t.offsetWidth;t.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",t.appendChild(s);const n=s.offsetWidth;return t.parentNode.removeChild(t),e-n}()+"px / 2 ) )",t.bar.style.background="linear-gradient(to bottom, rgba(0,0,0,.4) calc( "+t.scale.waterline+"% + 5px ), rgba(18,85,146,.4) calc( "+t.scale.waterline+"% + 5px ), rgba(0,20,40,.6) calc( 98% + 5px ), rgba(120,96,38,.5) calc( 98% + 5px ))",t.scale.ticks[0].style.top=t.scale.waterline+"%",t.scale.ticks[s-1].style.top="98%",e=1;e<s-1;e++)t.scale.ticks[e].style.top=t.scale.waterline+t.scale.depths[e]/t.scale.depths[s-1]*(98-t.scale.waterline)+"%"}function s(t){const e=window.pageYOffset,s=Math.min(97,Math.max(0,e/t.storyHeight*100));t.indicator.style.top=s+"%",s>t.scale.waterline-1?t.indicator.classList.add("titan"):t.indicator.classList.remove("titan"),e<t.lastPos?t.indicator.classList.add("flame"):t.indicator.classList.remove("flame"),t.lastPos=e,e>t.pos?(t.bar.classList.add("sticky"),t.storyHeight+t.pos<e+t.vh?t.bar.classList.add("end"):t.bar.classList.remove("end")):t.bar.classList.remove("sticky")}window.addEventListener("load",(function(){(function(){let t,e,s,n,i,o;const a=document.querySelectorAll(".parallax");window.addEventListener("scroll",(function(){for(top=this.pageYOffset,t=this.innerHeight,e=this.innerWidth,o=0;o<a.length;o++)i=a[o].getBoundingClientRect().top-t,s=a[o].getAttribute("data-speed")*e/1e3,n=Math.min(0,i*s/100),a[o].setAttribute("style","transform: translate3d(0px, "+n+"px, 0px)")}))})(),function(){const n={vh:window.innerHeight,vw:window.innerWidth,lastPos:window.pageYOffset,bar:document.getElementById("progress"),indicator:document.getElementById("indicator"),scale:t(),sky:document.getElementById("keyframe-backdrop-sky"),story:document.getElementById("story")};n.pos=n.story.getBoundingClientRect().top,n.storyHeight=n.story.offsetHeight,n.bar.classList.add("has-js"),e(n),s(n),window.addEventListener("scroll",s.bind(null,n),!1),window.addEventListener("resize",(function(){n.vh=window.innerHeight,n.vw=window.innerWidth,n.storyHeight=n.story.offsetHeight,e(n),s(n)}),!1)}()}),!1)}();